collaboration ModSL3 { 
	processor->fontTransform.load();
	processor->decorators.init();
	processor->layoutVisitors.init();
	processor->lexer.tokenStream(); 
	processor->parser.graph(tokenStream):graph; 
	processor->nodeLayoutVisitor.accept(graph);
	nodeLayoutVisitor->nodes.setSize();
	processor->sugiyamaLayoutVisitor.accept(graph);
	sugiyamaLayoutVisitor->nodes.setPos();
	processor->labelLayoutVisitor.accept(graph);
	labelLayoutVisitor->edgeLabels.setPos();
	processor->graph.rescale(); 
	processor->stringTemplateVisitor.accept(graph);
	stringTemplateVisitor->decorators.apply();
}
